<?xml version="1.0" ?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>sablot.rd</title>
</head>
<body>
<h1><a name="label:0" id="label:0">Sablot class</a></h1><!-- RDLabel: "Sablot class" -->
<p>Sablotron XSLT processor class.</p>
<h2><a name="label:1" id="label:1">SuperClass</a></h2><!-- RDLabel: "SuperClass" -->
<p>Object</p>
<h2><a name="label:2" id="label:2">Class Methods</a></h2><!-- RDLabel: "Class Methods" -->
<dl>
<dt><a name="label:3" id="label:3"><code>Sablot.createProcessor()</code></a><!-- RDLabel: "Sablot.createProcessor" -->
<dt><a name="label:4" id="label:4"><code>Sablot.new()</code></a></dt><!-- RDLabel: "Sablot.new" -->
<dd>
<p>creates a new processor.</p></dd>
<dt><a name="label:5" id="label:5"><code>Sablot.processStrings(<var>xsl_string</var>, <var>xml_string</var>)</code></a><!-- RDLabel: "Sablot.processStrings" -->
<dt><a name="label:6" id="label:6"><code>Sablot.process_strings(<var>xsl_string</var>, <var>xml_string</var>)</code></a></dt><!-- RDLabel: "Sablot.process_strings" -->
<dd>
<p>translates xml_string with xsl_string, and return
translated document(as String object).</p></dd>
<dt><a name="label:7" id="label:7"><code>Sablot.processFiles(<var>xsl_file</var>, <var>xml_file</var>, <var>output_file</var>)</code></a><!-- RDLabel: "Sablot.processFiles" -->
<dt><a name="label:8" id="label:8"><code>Sablot.process_files(<var>xsl_file</var>, <var>xml_file</var>, <var>output_file</var>)</code></a></dt><!-- RDLabel: "Sablot.process_files" -->
<dd>
<p>translates xml_file with xsl_file, and return
output_file as file.</p></dd>
</dl>
<h2><a name="label:9" id="label:9">Methods</a></h2><!-- RDLabel: "Methods" -->
<dl>
<dt><a name="label:10" id="label:10"><code>aSablot.runProcessor(<var>sheet</var>, <var>input</var>, <var>result</var>, <var>params</var>, <var>args</var>)</code></a></dt><!-- RDLabel: "aSablot.runProcessor" -->
<dd>
<p>runs the existing instance on the given documents.</p>
<p>arguments:</p>
<dl>
<dt><a name="label:11" id="label:11">sheet
</a></dt><!-- RDLabel: "sheet
" -->
<dd>
<p>URI of the XSLT stylesheet</p>
</dd>
<dt><a name="label:12" id="label:12">input
</a></dt><!-- RDLabel: "input
" -->
<dd>
<p>URI of the XML document</p>
</dd>
<dt><a name="label:13" id="label:13">result
</a></dt><!-- RDLabel: "result
" -->
<dd>
<p>URI of the output document</p>
</dd>
<dt><a name="label:14" id="label:14">params
</a></dt><!-- RDLabel: "params
" -->
<dd>
<p>a Hash of strings defining the top-level parameters</p>
</dd>
<dt><a name="label:15" id="label:15">args
</a></dt><!-- RDLabel: "args
" -->
<dd>
<p>a Hash of strings defining the named buffer</p>
</dd>
</dl></dd>
<dt><a name="label:16" id="label:16"><code>aSablot.resultArg(<var>resultURI</var>)</code></a></dt><!-- RDLabel: "aSablot.resultArg" -->
<dd>
<p>gets the result string from the last Sablot run.
the string buffer is identified by an URI (to enable output to
multiple documents) </p></dd>
<dt><a name="label:17" id="label:17"><code>aSablot.setLog(<var>filename</var>, <var>logLevel</var>)</code></a></dt><!-- RDLabel: "aSablot.setLog" -->
<dd>
<p>sets the logging options. Logging is off by default.
(but logLevel is ignored so far)</p></dd>
<dt><a name="label:18" id="label:18"><code>aSablot.setBase(<var>base</var>)</code></a></dt><!-- RDLabel: "aSablot.setBase" -->
<dd>
<p>overrides the default base URI for relative reference 
resolution.</p></dd>
<dt><a name="label:19" id="label:19"><code>aSablot.setBaseForScheme(<var>scheme</var>, <var>base</var>)</code></a></dt><!-- RDLabel: "aSablot.setBaseForScheme" -->
<dd>
<p>a softer form of SablotSetBase: the hard base URI will only
be in effect for relative references whose bases have
the given scheme.</p>
<p>Example: assume we call </p>
<pre>processor.setBaseForScheme("arg", "http://server" )</pre>
<p>and then runs a stylesheet at "arg:/xxx" which contains
"document('foo.xml')".
The relative reference is resolved as "http://server/foo.xml"
but if the stylesheet were at "file:/xxx" it would become
"file:/foo.xml". </p></dd>
</dl>
<h2><a name="label:20" id="label:20">Handler Methods</a></h2><!-- RDLabel: "Handler Methods" -->
<p>Since 0.5.0, this module support Message Handler.</p>
<p>Message Handler is implemented using template methods.
If you define Sablot#messageLog or Sablot#messageError,
Sablot object call these methods by necessity.</p>
<h3><a name="label:21" id="label:21">Methods for Message Handler</a></h3><!-- RDLabel: "Methods for Message Handler" -->
<dl>
<dt><a name="label:22" id="label:22"><code>aSablot.messageLog</code></a></dt><!-- RDLabel: "aSablot.messageLog" -->
<dd>
<p>handler method for logging.</p></dd>
<dt><a name="label:23" id="label:23"><code>aSablot.messageError</code></a></dt><!-- RDLabel: "aSablot.messageError" -->
<dd>
<p>handler method for reporting error.</p></dd>
</dl>
<h3><a name="label:24" id="label:24">Constant for Message Handler</a></h3><!-- RDLabel: "Constant for Message Handler" -->
<p>You can use constant for handler methods.</p>
<dl>
<dt><a name="label:25" id="label:25"><code>Sablot::MH_DEBUG</code></a><!-- RDLabel: "Sablot::MH_DEBUG" -->
<dt><a name="label:26" id="label:26"><code>Sablot::MH_INFO</code></a><!-- RDLabel: "Sablot::MH_INFO" -->
<dt><a name="label:27" id="label:27"><code>Sablot::MH_WARN</code></a><!-- RDLabel: "Sablot::MH_WARN" -->
<dt><a name="label:28" id="label:28"><code>Sablot::MH_ERROR</code></a><!-- RDLabel: "Sablot::MH_ERROR" -->
<dt><a name="label:29" id="label:29"><code>Sablot::MH_CRITICAL</code></a></dt><!-- RDLabel: "Sablot::MH_CRITICAL" -->
<dd>
<p>These constant is used as logging levels for message handler.</p></dd>
</dl>

</body>
</html>
