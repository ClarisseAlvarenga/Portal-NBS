<fieldset>
  <legend><%= legend %></legend>
  <input type="text" name="<%= relation %>" class="label_relation" data-present-relations="[<%= class_name.constantize.published(@label.id).map{|hm| "{'id': '#{hm.id}', 'name': '#{hm.range.value}', 'origin': '#{hm.range.origin}', 'published': #{hm.range.published?}}"}.join(',') %>]"
       data-post-url="<%= path %>"
       data-get-url="<%= labels_path %>"
       data-branch-url="<%= label_versions_branch_path(:lang => @active_language, :origin => "ORIGIN") %>"
       data-show-url="<%= label_path(:lang => @active_language, :id => "ORIGIN")%>"
       data-versioned-show-url="<%= versioned_label_path(:lang => @active_language, :id => "ORIGIN") %>"
       data-auth-token="<%= form_authenticity_token %>"
       data-hint-text="<%= I18n.t("txt.views.widget.hint") %>"
       data-searching-text="<%= I18n.t("txt.views.widget.searching") %>"
       data-no-results-text="<%= I18n.t("txt.views.widget.no_results") %>"
       <% unless token_limit.blank? %>
       data-token-limit=<%= token_limit %> 
       <% end %>
>
  <%= link_to t("txt.views.labels.new"), new_versioned_label_path(:lang => @active_language), :target => "_blank", :id => "new_#{relation}" %>
</fieldset>
