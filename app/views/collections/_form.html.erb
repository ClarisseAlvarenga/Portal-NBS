<% [ Note::Iqvoc::LanguageNote, Note::SKOS::Definition ].each do |klass| %>
  <%= render :partial => klass.edit_partial_name(@collection), :locals => { :owner_klass => @collection, :assoc_klass => klass, :f => f } %>
<% end %>

<fieldset>
  <legend><%= Iqvoc::Concept.base_class.model_name.human(:count => 2) %></legend>
  <%-
    options = {}
    unless @collection.new_record?
      options[:prePopulate] = @collection.members.map{|c| {:id => c.concept.id, :name => c.concept.pref_label.to_s}}
    end
  -%>
  <input type="text" name="collection[member_ids]" class="token_input_widget" data-query-url="<%= concepts_path(:lang => I18n.locale, :format => :json) %>" data-options="<%= options.to_json %>"></input>
</fieldset>

<%= f.submit t("txt.common.save") %>

<%= content_for :widget_translations do %>
  <%= render :partial => 'layouts/widget_translations' %>
<% end %>